#!/bin/bash
#
# gitfor1pat
#


commit=$3
currentnumber="$2"
directory=$1

function usage() {
	echo
	echo "usage: gitfor1pat <directory> <patch-number> <commit>"
	echo -e "\tdirectory    - destination of patch"
	echo -e "\tpatch-number - number of the patch"
	echo -e "\tcommit       - commit number of patch to be formatted"
	echo
	echo -e "\tPatch will be named \"patch-number.patch\""
	echo
	exit 1
}

[ $# -eq 3 ] || usage

git format-patch --start-number "$currentnumber" -1 "$commit" -o "$directory"
# mv "$directory"/"$currentnumber" "$directory"/"$currentnumber".patch

